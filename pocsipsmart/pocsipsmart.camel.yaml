- beans:
    - name: cxfEndpoint
      type: org.apache.camel.component.cxf.jaxws.CxfEndpoint
      properties:
        address: >-
          http://spgtsapqlt.disagro.corp/sap/bc/srt/rfc/sap/zes_sd_consulta_transporte/110/zws_d_consulta_transporte/zws_d_consulta_transporte
        username: "{{sap.soap.username}}"
        password: "{{sap.soap.password}}"
        dataFormat: PAYLOAD
- route:
    id: route-daae
    nodePrefixId: route-704
    from:
      id: from-9de8
      uri: platform-http
      parameters:
        path: /
        matchOnUriPrefix: true
      steps:
        - choice:
            id: choice-f5bc
            when:
              - id: when-7858
                expression:
                  simple:
                    id: simple-d9c3
                    expression: >-
                      ${header.CamelHttpPath} == '/ConsultaTransporte' &&
                      ${header.wsdl} != null
                steps:
                  - setHeader:
                      id: setHeader-45e3
                      name: Content-Type
                      expression:
                        constant:
                          id: constant-57e8
                          expression: application/xml
                  - setBody:
                      id: setBody-b747
                      expression:
                        simple:
                          id: simple-0ed1
                          expression: resource:classpath:ConsultaTransporte.wsdl
              - id: when-93dd
                expression:
                  simple:
                    id: simple-609e
                    expression: >-
                      ${header.CamelHttpPath} ==
                      '/services/zws_d_consulta_transporte'
                steps:
                  - setHeader:
                      id: setHeader-856d
                      name: Content-Type
                      expression:
                        constant:
                          id: constant-2568
                          expression: application/xml
                  - log:
                      id: log-b8b0
                      message: "-----> ${body}"
                      loggingLevel: "OFF"
                  - to:
                      id: to-477f
                      uri: direct
                      parameters:
                        name: services
            otherwise:
              id: otherwise-a5ac
              steps:
                - setHeader:
                    id: setHeader-53c8
                    name: Content-Type
                    expression:
                      constant:
                        id: constant-db38
                        expression: text/html
                - setBody:
                    id: setBody-2562
                    expression:
                      simple:
                        id: simple-8c92
                        expression: resource:classpath:Error404.html
- route:
    id: route-2c2d
    nodePrefixId: route-2b9
    from:
      id: from-0f15
      uri: direct
      parameters:
        name: services
      steps:
        - log:
            id: log-88c4
            message: "????? > ${body}"
            loggingLevel: INFO
        - doTry:
            id: doTry-57fa
            doCatch:
              - id: doCatch-8793
                exception:
                  - java.lang.Exception
                steps:
                  - log:
                      id: log-90f8
                      message: ${body}
                      loggingLevel: INFO
            steps:
              - to:
                  id: to-7e41
                  uri: cxf
                  parameters:
                    beanId: bean:cxfEndpoint
              - log:
                  id: log-d102
                  message: ${body}
                  loggingLevel: INFO
